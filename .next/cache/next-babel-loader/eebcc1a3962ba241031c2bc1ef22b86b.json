{"ast":null,"code":"const superagent = require('superagent');\n\nlet events;\n\nfunction resapi(argvz) {\n  superagent.get(argvz).set('X-Query-Key', 'NRIQ-j7zJFckfarn9jsOB-nPscK5H6z0QCgHd').set('Accept', 'application/json').end((err, response) => {\n    events = JSON.parse(response.text).results[0].events;\n    console.log('events: ', events);\n    events = [{\n      name: 'Current Load',\n      value: 1\n    }, {\n      name: 'Current Users',\n      value: 1\n    }, {\n      name: 'HTTP',\n      value: 0\n    }, {\n      name: 'PING',\n      value: 1\n    }, {\n      name: 'Root Partition',\n      value: 1\n    }, {\n      name: 'SSH',\n      value: 0\n    }, {\n      name: 'Swap Usage',\n      value: 1\n    }, {\n      name: 'Total Processes',\n      value: 1\n    }];\n    let result = res.json(events);\n    return result;\n  });\n  return result;\n}\n\nconst zabbix = (req, res) => {\n  let data1 = resapi(\"https://insights.newrelic.com/accounts/2482859/query?query=SELECT%20*%20FROM%20ZabbixHTTP\");\n  let data2 = resapi(\"https://insights.newrelic.com/accounts/2482859/query?query=SELECT%20*%20FROM%20ZabbixSSH\");\n  let data3 = resapi(\"https://insights.newrelic.com/accounts/2482859/query?query=SELECT%20*%20FROM%20ZabbixAgent\");\n  console.log(\" - d1 : \", data1);\n  console.log(\" - d2 : \", data2);\n  console.log(\" - d3 : \", data3);\n};\n\nexport default zabbix;","map":null,"metadata":{},"sourceType":"module"}