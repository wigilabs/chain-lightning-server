{"ast":null,"code":"/*\r\n   let  data1=resapi(\"https://insights.newrelic.com/accounts/2482859/query?query=SELECT%20*%20FROM%20ZabbixHTTP\");\r\n   let data2=resapi(\"https://insights.newrelic.com/accounts/2482859/query?query=SELECT%20*%20FROM%20ZabbixSSH\");\r\n   let data3=resapi(\"https://insights.newrelic.com/accounts/2482859/query?query=SELECT%20*%20FROM%20ZabbixAgent\");\r\n*/\nconst superagent = require('superagent');\n\nconst handler = (req, res) => {\n  let events;\n  superagent.get('https://insights.newrelic.com/accounts/2482859/query?query=SELECT%20*%20FROM%20ZabbixHTTP+SINCE+1+WEEK+AGO').set('X-Query-Key', 'NRIQ-j7zJFckfarn9jsOB-nPscK5H6z0QCgHd').set('Accept', 'application/json').end((err, response) => {\n    events = JSON.parse(response.text).results[0].events;\n    console.log('events: ', events);\n    events = [{\n      name: 'Current Load',\n      value: 1\n    }, {\n      name: 'Current Users',\n      value: 1\n    }, {\n      name: 'HTTP',\n      value: 0\n    }, {\n      name: 'PING',\n      value: 1\n    }, {\n      name: 'Root Partition',\n      value: 1\n    }, {\n      name: 'SSH',\n      value: 0\n    }, {\n      name: 'Swap Usage',\n      value: 1\n    }, {\n      name: 'Total Processes',\n      value: 1\n    }];\n    return res.json(events);\n  });\n};\n\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}